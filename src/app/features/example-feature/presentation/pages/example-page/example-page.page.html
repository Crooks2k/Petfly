<div class="example-page">
  <div class="page-header">
    <div class="header-content">
      <h1 class="page-title">{{ texts.title }}</h1>
      <p class="page-subtitle">{{ texts.subtitle }}</p>
    </div>

    <div class="language-selector">
      <p-dropdown
        [options]="availableLanguages"
        [(ngModel)]="currentLanguage"
        (onChange)="changeLanguage($event.value)"
        optionLabel="name"
        optionValue="code"
        [showClear]="false"
        placeholder="Idioma"
      >
        <ng-template pTemplate="selectedItem" let-selectedOption>
          <div class="language-option">
            <span>{{ selectedOption.flag }}</span>
            <span>{{ selectedOption.name }}</span>
          </div>
        </ng-template>
        <ng-template pTemplate="item" let-option>
          <div class="language-option">
            <span>{{ option.flag }}</span>
            <span>{{ option.name }}</span>
          </div>
        </ng-template>
      </p-dropdown>
    </div>
  </div>

  <div class="content-section">
    <div class="section-header">
      <h2>{{ texts.listTitle }}</h2>
      <p-button
        [label]="isLoading ? texts.loading : texts.loadButton"
        [loading]="isLoading"
        (onClick)="loadExamples()"
        icon="pi pi-refresh"
      ></p-button>
    </div>

    <div class="examples-list" *ngIf="examples.length > 0">
      <div class="example-card" *ngFor="let example of examples">
        <h3>{{ example.name }}</h3>
        <p>{{ example.description }}</p>
        <div class="example-meta">
          <span class="category">{{ getCategoryText(example.category) }}</span>
          <span class="status" [class]="'status-' + example.status">
            {{ getStatusText(example.status) }}
          </span>
        </div>
        <small>{{ texts.createdAtLabel }}: {{ example.createdAt | date: 'short' }}</small>
      </div>
    </div>

    <div class="no-data" *ngIf="examples.length === 0 && !isLoading">
      <p>{{ texts.noDataMessage }}</p>
    </div>
  </div>

  <div class="debug-info">
    <h3>Current Language:</h3>
    <p>{{ currentLanguage }}</p>
  </div>
</div>
