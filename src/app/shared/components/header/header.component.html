<header class="petfly-header">
  <div class="header-container">
    <div
      class="logo-section"
      (click)="navigateToHome()"
      role="button"
      tabindex="0"
      (keydown.enter)="navigateToHome()"
    >
      <img src="assets/images/petfly-logo.png" [attr.alt]="texts.logoAlt" class="logo" />
    </div>

    <div class="nav-icons">
      <button
        class="nav-icon-btn"
        type="button"
        (click)="op.toggle($event)"
        [attr.aria-label]="texts.changeLanguageAriaLabel"
      >
        <i class="pi pi-globe"></i>
      </button>

      <button
        class="nav-icon-btn"
        type="button"
        (click)="openWhatsApp()"
        [attr.aria-label]="texts.whatsappAriaLabel"
      >
        <i class="pi pi-whatsapp"></i>
      </button>

      <button
        class="nav-icon-btn"
        type="button"
        (click)="opCurrency.toggle($event)"
        [attr.aria-label]="texts.changeCurrencyAriaLabel"
      >
        <i class="pi pi-dollar"></i>
      </button>

      <p-overlayPanel #op [style]="{ width: config.styles.overlayPanelWidth }">
        <div class="language-menu">
          <button
            *ngFor="let lang of languages"
            class="language-option"
            type="button"
            [class.active]="lang.code === currentLanguage"
            (click)="changeLanguage(lang.code); op.hide()"
          >
            <span class="language-flag">{{ lang.flag }}</span>
            <span class="language-name">{{ lang.name }}</span>
            <i class="pi pi-check" *ngIf="lang.code === currentLanguage"></i>
          </button>
        </div>
      </p-overlayPanel>

      <p-overlayPanel #opCurrency>
        <div class="currency-menu">
          <button
            *ngFor="let currency of currencies"
            class="currency-option"
            type="button"
            [class.active]="currency.code === currentCurrency.code"
            (click)="changeCurrency(currency.code); opCurrency.hide()"
          >
            <span class="currency-name">{{ currency.name }} ({{ currency.code }})</span>
            <i class="pi pi-check" *ngIf="currency.code === currentCurrency.code"></i>
          </button>
        </div>
      </p-overlayPanel>
    </div>
  </div>
</header>
